<template>
<template if:true={toggleSpinner}>
<div class="slds-spinner_container">
    <div class="slds-spinner--brand  slds-spinner slds-spinner--large slds-is-relative" role="alert">
        <span class="slds-assistive-text">Loading</span>
        <div class="slds-spinner__dot-a"></div>
        <div class="slds-spinner__dot-b"></div>
    </div>
</div>
</template>
<div class="slds-grid bg slds-grid_align-center" style="margin-top:-13px;">
<div class="slds-large-size_8-of-12 " style="background-color: #fff; border:1px solid #c6c8ca; ">
    <!--For Now I commented Code Asif-->
    <h2 class="slds-text-heading_small slds-m-bottom_small title">
        <!-- <img src={$Resource.enrolment} style="height:23px;" alt="Enrollment" /> -->
        &nbsp;&nbsp;Enrollment Form</h2>
    <div class="slds-p-bottom_medium slds-p-horizontal_large">
        <div class="demo-only demo-only--sizing slds-grid slds-wrap slds-gutters">
            <div class="slds-col slds-medium-size_1-of-2 slds-p-top_small">
                <h2 class="slds-section_title slds-text-heading_small "><strong>Contact Details</strong></h2>
            </div>
            <div class="slds-col slds-medium-size_1-of-2 slds-p-top_small">
                <div class="slds-float_right">
                    <lightning-input type="toggle" name="toggleButton" label="Individual / Corporate Account"
                        checked={isCorporateAccount} onchange={handleAccountChange}></lightning-input>
                </div>
            </div>
            <!-- <aura:if isTrue={isCorporateAccount}> -->
            <template if:true={isCorporateAccount}>
                <div class="slds-col slds-medium-size_1-of-2 slds-p-top_small">
                    <c-auto-complete-component iconname="standard:account" objectname="Account"
                        type="PrimaryCorpContact" label="First Name" searchfield="Name" onselectedrec={handleOnSelect}
                        extendedwhereclause=" AND RecordType.DeveloperName = 'Business_Account' ">
                    </c-auto-complete-component>
                    <div id="requiredContactErrorMsg" class="slds-form-element__help"
                        style="color:rgb(194, 59, 54);display:none;">Complete this field</div>
                </div>
            </template>
            <!-- </aura:if> -->
            <!-- <aura:if isTrue={isCorporateAccount}> -->
            <template if:false={isCorporateAccount}>
                <h2
                    class="slds-p-horizontal_small slds-section_title slds-medium-size_1-of-1 slds-text-heading_small  slds-p-top_small">
                    Primary</h2>
                <div class="slds-col slds-medium-size_1-of-2">
                    <c-auto-complete-component iconname="standard:account" objectname="Account"
                        type="PrimaryCustContact" label="First Name" searchfield="Name" onselectedrec={handleOnSelect}
                        extendedwhereclause=" AND RecordType.DeveloperName = 'Customer' ">
                    </c-auto-complete-component>
                    <div class="slds-form-element__help" style="color:rgb(194, 59, 54);display:none;">Complete
                        this field</div>
                </div>

                <div class="slds-col slds-medium-size_1-of-2">
                    <!-- <lightning-input class="myinput" value={contactDetail.LastName} aura-id="conDetReqId"
                        label="Last Name" required="true"></lightning-input> -->
                    <lightning-input class="myinput" label="Last Name" value={contactDetail.LastName}
                        required="true"></lightning-input>
                </div>

                <div class="slds-col slds-medium-size_1-of-2 slds-p-top_small">
                    <lightning-input class="myinput" label="Email" value={contactDetail.PersonEmail}
                        required="true"></lightning-input>
                </div>
                <div class="slds-col slds-medium-size_1-of-2 slds-p-top_small">
                    <lightning-input class="myinput" label="Phone" value={contactDetail.Phone}
                        required="true"></lightning-input>
                </div>
                <div class="slds-col slds-medium-size_1-of-2 slds-p-top_small">
                    <lightning-combobox name="primaryGender" 
                            label="Relationship With Student" required="true"
                            value={contactDetail.educato__Relationship_With_Student__c}
                            placeholder="-Select-"
                            options={relationshipoptions}>
                    </lightning-combobox>
                </div>
                <div class="slds-col slds-medium-size_1-of-2 slds-p-top_small">
                    <lightning-combobox name="primaryGender"
                            label="Gender" required="true"
                            value={contactDetail.educato__Gender__c}
                            placeholder="-Select-"
                            options={genderList} >
                    </lightning-combobox>
                </div>
                <h2
                    class="slds-p-horizontal_small slds-section_title slds-medium-size_1-of-1 slds-text-heading_small  slds-p-top_medium">
                    Secondary</h2>
                <div class="slds-col slds-medium-size_1-of-2">
                    <c-auto-complete-component iconname="standard:account" objectname="Account"
                        type="SecondaryCustContact" label="First Name" searchfield="Name" onselectedrec={handleOnSelect}
                        extendedwhereclause=" AND RecordType.DeveloperName = 'Customer' ">
                    </c-auto-complete-component>
                    <!--<div id="requiredSecondaryContactErrorMsg" class="slds-form-element__help" style="color-rgb(194, 59, 54);display-none;">Complete this field</div>-->
                </div>

                <div class="slds-col slds-medium-size_1-of-2">
                    <lightning-input class="myinput" label="Last Name" value={secondaryContactDetail.LastName} 
                    ></lightning-input>
                </div>

                <div class="slds-col slds-medium-size_1-of-2 slds-p-top_small">
                    <lightning-input class="myinput" label="Email" value={secondaryContactDetail.PersonEmail}
                    ></lightning-input>
                </div>
                <div class="slds-col slds-medium-size_1-of-2 slds-p-top_small">
                    <lightning-input class="myinput" label="Phone" value={secondaryContactDetail.Phone} 
                    ></lightning-input>
                </div>
                <div class="slds-col slds-medium-size_1-of-2 slds-p-top_small">
                    <lightning-combobox name="scndryGender"
                            label="Relationship With Student"
                            value={secondaryContactDetail.educato__Relationship_With_Student__c}
                            placeholder="-Select-"
                            options={relationshipoptions} >
                    </lightning-combobox> 
                </div>
                <div class="slds-col slds-medium-size_1-of-2 slds-p-top_small">
                    <lightning-combobox name="scndryGender"
                            label="Gender"
                            value={secondaryContactDetail.educato__Gender__c}
                            placeholder="-Select-"
                            options={genderList} >
                    </lightning-combobox>
                </div>
                <h2
                    class="slds-p-horizontal_medium slds-section_title slds-medium-size_1-of-1 slds-text-heading_small  slds-p-top_medium">
                    <strong>Address Details</strong></h2>
                <div class="slds-col slds-medium-size_1-of-2 slds-p-top_small">
                    <lightning-input class="myinput" label="Address 1" required="true"></lightning-input>
                </div>
                <div class="slds-col slds-medium-size_1-of-2 slds-p-top_small">
                    <!-- <lightning-input class="myinput" aura-id="conDetReqId"
                        value={contactDetail.educato__Unit__c} label="Address 2" required="true">
                    </lightning-input> -->
                    <lightning-input class="myinput" label="Address 2" required="true"></lightning-input>
                </div>
                <div class="slds-col slds-medium-size_1-of-2 slds-p-top_small">
                    <!-- <lightning-input class="myinput" aura-id="conDetReqId" label="City"
                        value={contactDetail.BillingStreet} required="true"></lightning-input> -->
                    <lightning-input class="myinput" label="City" required="true"></lightning-input>
                </div>
                <div class="slds-col slds-medium-size_1-of-2 slds-p-top_small">
                    <!-- <lightning-input class="myinput" aura-id="conDetReqId"
                        value={contactDetail.BillingPostalCode} label="Postal Code" required="true">
                    </lightning-input> -->
                    <lightning-input class="myinput" label="Postal Code" required="true"></lightning-input>
                </div>
                <div class="slds-col slds-medium-size_1-of-2 slds-p-top_small">
                    <lightning-button variant="base" label="add class" title="titleName"
                        onclick={handleClassAndCourseModal}></lightning-button>
                </div>
                <!--<div class="slds-col slds-medium-size_1-of-2 slds-p-top_small">
                    <lightning-input class="myinput" aura-id="conDetReqId" label="State" value={contactDetail.BillingState} required="true" />                                                          
                </div>
                
                <div class="slds-col slds-medium-size_1-of-2 slds-p-top_small">
                    <lightning-input class="myinput" aura-id="conDetReqId" label="Country" value={contactDetail.BillingCountry} required="true" />                                                          
                </div>-->
                <!-- <c:DependentPicklistCmp objectName="Account" parentFieldAPI="BillingCountryCode"
                    childFieldAPI="BillingStateCode" parentFieldLabel="Country" childFieldLabel="State"
                    parentValue={parentValue} childValue={childValue} requiredOrNot="true"
                    requiredCheck={requiredCheck} /> -->
                <div class="slds-col slds-medium-size_1-of-2 slds-p-top_x-large">
                    <!-- <lightning-input type="checkbox" class="myinput" aura-id="" label="Same As Student"
                        checked={isSameAsParent} onchange={sameAsParentChange}></lightning-input> -->
                </div>
            </template>
            <!-- </aura-if> -->
        </div>
        <!-- <div class="slds-grid slds-gutters">                    
                <div class="slds-col slds-medium-size_1-of-2 ">
                    <lightning-select name="cntry" aura-id="conDetReqId" label="Country" value={contactDetail.BillingCountryCode}  required="true">
                        <option value="">-None-</option>
                        <aura-iteration items={cntryList} var="cntry">
                            <option value={cntry}>{cntry}</option>
                        </aura-iteration>
                    </lightning-select>                            
                </div>                    
            </div>-->
    </div>
    <!--===================Student details=================-->
    <h2 class="slds-text-heading_small  title">
        <!-- <img src={$Resource.stu} style="height: 23px;"
        alt="Students" /> -->
        &nbsp;&nbsp;Student Details</h2>
    <div class="slds-p-vertical_small slds-p-horizontal_large" style="min-height: 170px;">
        <template if:true={studetnDetailsArr}>
            <c-student-details-cmp studetn-details-arr={studetnDetailsArr} onremove={removeRow}>
            </c-student-details-cmp>
        </template>

        <div class="slds-text-align_right">
            <strong class="btn-addstu">
                <lightning-button label="Add Student" icon-name="utility:adduser" variant="base"
                    onclick={addStudent}>
                </lightning-button>
            </strong>
        </div>
    </div>

    <!--=====================Enrollment Summary=============== -->
    <h2 class="slds-text-heading_small slds-m-bottom_small title">&nbsp;&nbsp;Enrollment Summary</h2>
    <div class="section-enrol slds-grid  slds-grid_vertical-align-end slds-p-bottom_small slds-p-horizontal_large"
        style="min-height:170px;">
        <div class="slds-col slds-size_1-of-1">
            <!-- <aura-iteration items={stuClsWrapperList} var="stuWraper" indexVar="key"> -->
            <!-- <aura-if isTrue={not(empty(stuWraper.slctdClsDetails))}> -->
            <template if:true={stuClsWrapperList}>
                <fieldset class="slds-border_bottom slds-p-top_xx-small">
                    <!-- <aura-iteration items={stuWraper.slctdClsDetails} var="cls" indexVar="j"> -->
                    <div class="border-dash">
                        <div class="accordioncustom">
                            <div class="slds-grid slds-gutters enrol-name slds-grid_vertical-align-center">
                                <!--For Now I commented Code Asif-->
                                <!-- <div class="slds-col slds-medium-size_7-of-12 ">
                                        <aura-if isTrue={j==0}> 
                                            <p class="slds-text-heading_small">
                                                    <aura-if 
                                                        isTrue={stuWraper.studentDetails.educato__Gender__c == 'Female'}>
                                                    <img src={$Resource.lady} alt="user"
                                                        style="width: 25px;" />
                                                    <aura-set attribute="else">
                                                        <img src={$Resource.men} alt="user"
                                                            style="width: 25px;" />
                                                    - </aura-set> 
                                                    </aura-if> 
                                                    &nbsp;&nbsp;<strong>{stuWraper.studentDetails.FirstName+'
                                                    '+stuWraper.studentDetails.LastName}</strong> 
                                            </p>
                                        </aura-if> 
                                    </div> -->
                                <div class="slds-col slds-medium-size_5-of-12 ">
                                    <p
                                        class="slds-text-heading_x-small slds-p-vertical_small slds-text-align_right">
                                        <span>
                                            <!--For Now I commented Code Asif-->
                                            <!-- <div id={key+'_'+j}
                                                    style="display:inline-block; padding-right:12px;"
                                                    onclick={deleteCls}>
                                                    <lightning-buttonIcon icon-name="utility:delete"
                                                        variant="bare" alternativeText="Delete"
                                                        class="slds-text-color_error " ></lightning-buttonIcon>
                                                </div>
                                                <div id={key+'_'+j} onclick={editCls}
                                                    style="display:inline-block; padding-right:12px;">
                                                    <lightning-buttonIcon icon-name="utility:edit_form"
                                                        variant="bare" alternativeText="Edit"
                                                        class="slds-text-color_success" ></lightning-buttonIcon>
                                                </div>
                                                <div id={key+'_'+j} onclick={handleCourseDiscount}
                                                    style="display:inline-block;">
                                                    <lightning-buttonIcon icon-name="utility:moneybag"
                                                        variant="bare" 
                                                        class="slds-text-color_success" ></lightning-buttonIcon>
                                                </div> -->
                                        </span>
                                    </p>
                                </div>
                            </div>

                            <div class="slds-grid slds-gutters  slds-grid_vertical-align-center ">
                                <div class="slds-col  slds-medium-size_7-of-12">
                                    <div class="slds-grid slds-gutters">
                                        <div class="slds-col slds-size_1-of-2">
                                            <div class="slds-media slds-media_center  slds-p-bottom_medium">
                                                <div class="slds-media__figure">
                                                    <span class="slds-avatar slds-avatar_x-small">
                                                        <lightning-icon icon-name="utility:description">
                                                        </lightning-icon>
                                                    </span>
                                                </div>
                                                <div class="slds-media__body">
                                                    <p class="slds-text-body_small">Class Name</p>
                                                    <p class="slds-text-heading_x-small">
                                                        <!-- <strong>{cls.slcdClsWrapObj.clsName}</strong> -->
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="slds-col slds-size_1-of-2">
                                            <div class="slds-media slds-media_center  slds-p-bottom_medium">
                                                <div class="slds-media__figure">
                                                    <span class="slds-avatar slds-avatar_x-small">
                                                        <lightning-icon icon-name="utility:money">
                                                        </lightning-icon>
                                                    </span>
                                                </div>
                                                <div class="slds-media__body">
                                                    <p class="slds-text-body_small">Class Fee</p>
                                                    <p class="slds-text-heading_x-small"><strong>
                                                            <!--${cls.slcdClsWrapObj.fees}-->
                                                            <!-- <lightning:formattedNumber
                                                                    value={cls.slcdClsWrapObj.fees}                                                                               
                                                                    currencyCode={$Label.c.Default_Currency}
                                                                    currencyDisplayAs="symbol" ></lightning:formattedNumber> -->
                                                        </strong>
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-grid slds-gutters">
                                        <div class="slds-col slds-size_1-of-2">
                                            <div class="slds-media slds-media_center  slds-p-bottom_medium">
                                                <div class="slds-media__figure">
                                                    <span class="slds-avatar slds-avatar_x-small">
                                                        <lightning-icon icon-name="utility:date_input">
                                                        </lightning-icon>
                                                    </span>
                                                </div>
                                                <div class="slds-media__body">
                                                    <p class="slds-text-body_small">Start Date</p>
                                                    <p class="slds-text-heading_x-small"><strong>
                                                            <!-- <ui-outputDate aura:id="oDate"
                                                                    value={cls.enrolDate}
                                                                    format={$Label.c.Components_Date_Format} ></ui-outputDate> -->
                                                        </strong></p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="slds-col slds-size_1-of-2">
                                            <div class="slds-media slds-media_center  slds-p-bottom_medium">
                                                <div class="slds-media__figure">
                                                    <span class="slds-avatar slds-avatar_x-small">
                                                        <!-- <lightning-icon icon-name="utility:date_time"
                                                                ></lightning-icon> -->
                                                    </span>
                                                </div>
                                                <div class="slds-media__body">
                                                    <p class="slds-text-body_small">Enrollment Time</p>
                                                    <p class="slds-text-heading_x-small">
                                                        <!-- <strong>{cls.slcdClsWrapObj.stEndTime}</strong> -->
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="slds-grid slds-gutters">
                                        <div class="slds-col slds-size_1-of-2">
                                            <div class="slds-media slds-media_center  slds-p-bottom_medium">
                                                <div class="slds-media__figure">
                                                    <span class="slds-avatar slds-avatar_x-small">
                                                        <lightning-icon icon-name="utility:resource_territory">
                                                        </lightning-icon>
                                                    </span>
                                                </div>
                                                <div class="slds-media__body">
                                                    <p class="slds-text-body_small">Teacher</p>
                                                    <p class="slds-text-heading_x-small">
                                                        <!-- <strong>{cls.slcdClsWrapObj.teacherName}</strong> -->
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="slds-col slds-size_1-of-2">
                                            <div class="slds-media slds-media_center  slds-p-bottom_medium">
                                                <div class="slds-media__figure">
                                                    <span class="slds-avatar slds-avatar_x-small">
                                                        <lightning-icon icon-name="utility:checkin">
                                                        </lightning-icon>
                                                    </span>
                                                </div>
                                                <div class="slds-media__body">
                                                    <p class="slds-text-body_small">Location</p>
                                                    <p class="slds-text-heading_x-small">
                                                        <!-- <strong>{cls.slcdClsWrapObj.location}</strong> -->
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="slds-col slds-medium-size_5-of-12">
                                    <!-- <aura:if isTrue={not(empty(cls.tutionFeeWrapperList))}> -->
                                    <!-- <aura:iteration items={cls.tutionFeeWrapperList} var="tf" -->
                                    indexVar="j">
                                    <div class="slds-grid slds-gutters border-b-dashed">
                                        <div class="slds-col slds-size_1-of-2 slds-p-vertical_xx-small">
                                            <p class="slds-text-body_small"><span
                                                    class="slds-text-body_small slds-p-right_small">{tf.feeName}:</span>
                                            </p>
                                        </div>
                                        <div class="slds-col slds-size_1-of-2 slds-p-vertical_xx-small">
                                            <p class="slds-text-body_small slds-text-align_right">
                                                <strong>
                                                    <!--${tf.feeProratedAmount}-->
                                                    <!-- <lightning:formattedNumber
                                                                    value={(tf.feeProratedAmount > 0 ? tf.feeProratedAmount : tf.feeAmount)}                                                                                
                                                                    currencyCode={$Label.c.Default_Currency}
                                                                    currencyDisplayAs="symbol" ></lightning:formattedNumber> -->
                                                </strong>
                                            </p>
                                        </div>
                                    </div>
                                    <!-- </aura:iteration> -->
                                    <!-- </aura:if> -->
                                    <!-- <aura:if isTrue={not(empty(cls.feeWrapperList))}> -->
                                    <!-- <aura:iteration items={cls.feeWrapperList} var="rf" -->
                                    indexVar="j">
                                    <div class="slds-grid slds-gutters border-b-dashed">
                                        <div class="slds-col slds-size_1-of-2 slds-p-vertical_xx-small">
                                            <p class="slds-text-body_small"><span
                                                    class="slds-text-body_small slds-p-right_small">{rf.feeName}:</span>
                                            </p>
                                        </div>
                                        <div class="slds-col slds-size_1-of-2 slds-p-vertical_xx-small">
                                            <p class="slds-text-body_small slds-text-align_right">
                                                <strong>
                                                    <!--${rf.feeAmount}-->
                                                    <!-- <lightning:formattedNumber
                                                                    value={rf.feeAmount} 
                                                                    currencyCode={$Label.c.Default_Currency}
                                                                    currencyDisplayAs="symbol" ></lightning:formattedNumber> -->
                                                </strong>
                                            </p>
                                        </div>
                                    </div>
                                    <!-- </aura:iteration> -->
                                    <!-- </aura:if> -->
                                    <!-- <aura:if isTrue={not(empty(cls.depositWrapperList))}> -->
                                    <!-- <aura:iteration items={cls.depositWrapperList} var="dep" -->
                                    indexVar="j">
                                    <div class="slds-grid slds-gutters border-b-dashed">
                                        <div class="slds-col slds-size_1-of-2 slds-p-vertical_xx-small">
                                            <p class="slds-text-body_small"><span
                                                    class="slds-text-body_small slds-p-right_small">{dep.feeName}:</span>
                                            </p>
                                        </div>
                                        <div class="slds-col slds-size_1-of-2 slds-p-vertical_xx-small">
                                            <p class="slds-text-body_small slds-text-align_right">
                                                <strong style="color:green ;">
                                                    <!--{dep.feeAmount}-->
                                                    <!-- <lightning:formattedNumber
                                                                    value={dep.feeAmount}
                                                                    
                                                                    currencyCode={$Label.c.Default_Currency}
                                                                    currencyDisplayAs="symbol" ></lightning:formattedNumber> -->
                                                </strong>
                                            </p>
                                        </div>
                                    </div>
                                    <!-- </aura:iteration> -->
                                    <!-- </aura:if> -->
                                    <!-- <aura:if isTrue={not(empty(cls.disWrapperList))}> -->
                                    <!-- <aura:iteration items={cls.disWrapperList} var="dis" -->
                                    indexVar="j">
                                    <div class="slds-grid slds-gutters border-b-dashed">
                                        <div class="slds-col slds-size_1-of-2 slds-p-vertical_xx-small">
                                            <p class="slds-text-body_small"><span
                                                    class="slds-text-body_small slds-p-right_small">{dis.name}:</span>
                                            </p>
                                        </div>
                                        <div class="slds-col slds-size_1-of-2 slds-p-vertical_xx-small">
                                            <p class="slds-text-body_small slds-text-align_right">
                                                <strong style="color:red;">
                                                    <!--{dis.amount}-->
                                                    <!-- <lightning:formattedNumber
                                                                    value={dis.amount} 
                                                                    currencyCode={$Label.c.Default_Currency}
                                                                    currencyDisplayAs="symbol" ></lightning:formattedNumber> -->
                                                </strong>
                                            </p>
                                        </div>
                                    </div>
                                    <!-- </aura:iteration> -->
                                    <!-- </aura:if> -->
                                    <!-- <aura:if isTrue={not(empty(cls.earlybirdDisWrapperList))}> -->
                                    <!-- <aura:iteration items={cls.earlybirdDisWrapperList} var="dis" -->
                                    indexVar="j">
                                    <div class="slds-grid slds-gutters border-b-dashed">
                                        <div class="slds-col slds-size_1-of-2 slds-p-vertical_xx-small">
                                            <p class="slds-text-body_small"><span
                                                    class="slds-text-body_small slds-p-right_small">{dis.name}:</span>
                                            </p>
                                        </div>
                                        <div class="slds-col slds-size_1-of-2 slds-p-vertical_xx-small">
                                            <p class="slds-text-body_small slds-text-align_right">
                                                $<strong style="color:red;">
                                                    <!--{dis.amount}-->
                                                    <!-- <lightning:formattedNumber
                                                                    value={dis.amount} 
                                                                    currencyCode={$Label.c.Default_Currency}
                                                                    currencyDisplayAs="symbol" ></lightning:formattedNumber> -->
                                                </strong>
                                            </p>
                                        </div>
                                    </div>
                                    <!-- </aura:iteration> -->
                                    <!-- </aura:if> -->
                                    <div class="slds-grid slds-gutters" style="background-color:#f7f7f7;">
                                        <div class="slds-col slds-size_1-of-2 slds-p-vertical_xx-small">
                                            <p class="slds-text-body_small"><span
                                                    class="slds-text-body_small slds-p-right_small">Total:</span>
                                            </p>
                                        </div>
                                        <div class="slds-col slds-size_1-of-2 slds-p-vertical_xx-small">
                                            <p class="slds-text-body_small slds-text-align_right">
                                                <strong>
                                                    <!--${cls.totWithProratedFee}-->
                                                    <!-- <lightning:formattedNumber -->
                                                    value={cls.totWithProratedFee}

                                                    currencyCode={$Label.c.Default_Currency}
                                                    currencyDisplayAs="symbol" ></lightning:formattedNumber>
                                                </strong></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- </aura:iteration> -->
                </fieldset>
            </template>
            <!-- </aura:if> -->
            <!-- </aura:iteration> -->
            <div class="slds-grid slds-gutters slds-p-top_xx-small slds-grid_align-end">
                <div class="slds-col slds-size_7-of-12 slds-p-vertical_xx-small">
                </div>
                <div class="slds-col slds-size_5-of-12 slds-p-vertical_xx-small">
                    <div class="slds-grid slds-gutters slds-wrap ">
                        <div class="slds-col slds-size_1-of-2 slds-p-vertical_xx-small">
                            <p class="slds-text-body_small slds-text-heading_small"><strong class="">Enrollment
                                    Fee Total:</strong></p>
                        </div>
                        <div class="slds-col slds-size_1-of-2 slds-p-vertical_xx-small">
                            <p class="slds-text-body_small slds-text-align_right slds-text-heading_small">
                                <strong>
                                    <!--${enrFeeTotAmt}-->
                                    <!-- <lightning:formattedNumber value={enrFeeTotAmt} 
                                    currencyCode={$Label.c.Default_Currency}
                                    currencyDisplayAs="symbol" ></lightning:formattedNumber> -->
                                </strong></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--=============================Additional Discount====================-->

    <h2 class="slds-text-heading_small title">
        <!-- <img src={$Resource.discount} style="height:23px;"
        alt="pay" /> -->
        &nbsp;&nbsp;Additional Discounts</h2>
    <div class="slds-text-align_right slds-p-horizontal_large slds-p-top_small">
        <strong class="btn-addstu">
            <lightning-button label="Add Discount" icon-name="utility:new" variant="base" onclick={mydiscount}>
            </lightning-button>
        </strong>
    </div>

    <div class="slds-p-bottom_small slds-p-horizontal_large slds-grid slds-grid_vertical-align-end"
        style="min-height:145px;">
        <div class="slds-col slds-size_1-of-1">
            <div class="slds-grid slds-gutters slds-p-top_small slds-grid_align-end">
                <div class="slds-col slds-size_7-of-12 slds-p-vertical_xx-small">
                </div>
                <div class="slds-col slds-size_5-of-12 slds-p-vertical_xx-small">
                    <!-- <aura:iteration items={globalDisList} var="globalDis" indexVar="j"> -->
                    <template if:true={globalDisList}>
                        <div class="slds-grid slds-gutters border-b-dashed">
                            <div class="slds-col slds-size_8-of-12 slds-p-bottom_xx-small">{globalDis.name}
                            </div>
                            <div
                                class="slds-col slds-p-bottom_xx-small slds-text-align_right slds-size_4-of-12">
                                <strong style="color:red;">
                                    <!--{globalDis.amount}-->
                                    <!-- <lightning:formattedNumber value={globalDis.amount} 
                                            currencyCode={$Label.c.Default_Currency}
                                            currencyDisplayAs="symbol" ></lightning:formattedNumber> -->
                                </strong></div>
                        </div>
                    </template>
                    <!-- </aura:iteration> -->
                    <!-- <aura:if isTrue={gstAmount > 0}> -->
                    <div class="slds-grid slds-gutters border-b-dashed">
                        <div class="slds-col slds-size_8-of-12 slds-p-bottom_xx-small">GST Amount</div>
                        <div class="slds-col slds-p-bottom_xx-small slds-text-align_right slds-size_4-of-12">
                            <strong class="">
                                <!--${gstAmount}-->
                                <!-- <lightning:formattedNumber value={gstAmount} 
                                        currencyCode={$Label.c.Default_Currency}
                                        currencyDisplayAs="symbol" ></lightning:formattedNumber> -->
                            </strong>
                        </div>
                    </div>
                    <!-- </aura:if> -->
                    <div class="slds-grid slds-gutters slds-wrap ">
                        <div class="slds-col slds-size_1-of-2 slds-p-vertical_xx-small">
                            <p class="slds-text-body_small slds-text-heading_small"><strong class="">Grand
                                    Total:</strong></p>
                        </div>
                        <div class="slds-col slds-size_1-of-2 slds-p-vertical_xx-small">
                            <p class="slds-text-body_small slds-text-align_right slds-text-heading_small">
                                <strong>
                                    <!--${grandTotAmt}-->
                                    <!-- <lightning:formattedNumber value={grandTotAmt} 
                                        currencyCode={$Label.c.Default_Currency}
                                        currencyDisplayAs="symbol" ></lightning:formattedNumber> -->
                                </strong>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- =======================Confrim and pay=========================== -->
    <h2 class="slds-text-heading_small title">
        <!-- <img src={$Resource.pay} style="height:23px;" alt="pay" /> -->
        &nbsp;&nbsp;Confirm and Pay &nbsp;&nbsp;<span class="slds-float_right">
            <!--${grandTotAmt}-->
            <!-- <lightning:formattedNumber value={grandTotAmt} 
            currencyCode={$Label.c.Default_Currency} currencyDisplayAs="symbol" ></lightning:formattedNumber> -->
        </span></h2>

    <div class="slds-p-vertical_small slds-p-horizontal_large">
        <div class="slds-grid slds-gutters /*slds-grid_align-spread*/">
            <!--<div class="slds-col slds-size_6-of-12 slds-p-bottom_xx-small slds-p-right_large" style="border-right:1px dashed rgb(221, 219, 218);">-->
            <div class="slds-col slds-size_6-of-12 slds-p-bottom_small slds-p-right_large">
                <!--<p class="slds-p-bottom_small"><strong>Offline Payment:</strong></p>-->
                <div class="slds-grid slds-gutters slds-p-top_medium">
                    <div class="slds-col slds-size_1-of-2  slds-p-bottom_xx-small">Payment Amount:</div>
                    <div class="slds-col slds-size_1-of-2 slds-p-bottom_xx-small">
                        <!-- <lightning:input type="number" name="inputb"  label="" variant="label-hidden"
                            value={grandTotAmt} disabled="true" ></lightning:input> -->
                        <!-- <lightning:formattedNumber value={grandTotAmt}  currencyCode={$Label.c.Default_Currency} currencyDisplayAs="symbol"/>-->
                        <lightning-input type="number" value={grandTotAmt} name="pamentAmount" label=""
                            variant="label-hidden" required="true"></lightning-input>
                    </div>
                </div>
                <div class="slds-grid slds-gutters">
                    <div class="slds-col slds-size_1-of-2 slds-p-bottom_xx-small">
                        <!--<abbr class="slds-required">*</abbr>-->Payment Reference No:
                    </div>
                    <div class="slds-col slds-size_1-of-2 slds-p-bottom_xx-small">
                        <!-- <lightning:input name="inputb" aura:id="confirmPay" label="" variant="label-hidden"
                            placeholder="Reference No" value={paymentRefNumber} required="true" ></lightning:input> -->
                        <lightning-input type="text" value={paymentRefNumber} name="inputb" label=""
                            variant="label-hidden" placeholder="Reference No" required="true"></lightning-input>
                    </div>
                </div>
                <div class="slds-grid slds-gutters">
                    <div class="slds-col slds-size_1-of-2 slds-p-bottom_xx-small">
                        <!--<abbr class="slds-required">*</abbr>-->Payment Mode:
                    </div>
                    <div class="slds-col slds-size_1-of-2 slds-p-bottom_xx-small">
                        <!--<lightning:input name="inputb" aura:id="" label="" variant = "label-hidden"  placeholder="Payment Mode" value="" required="true" />-->
                        <!-- <lightning:select class="label-hidden" name="payMode" aura:id="confirmPay" label=""
                            variant="label-hidden" value={payModeSlcdStr} required="true">
                            <option value="">--None--</option>
                            <aura:iteration items={payModeList} var="payMod"> 
                                <option value={payMod}>{payMod}</option>
                                </aura:iteration> 
                        </lightning:select> -->
                    </div>
                </div>

                <!--
                    <div class="slds-col slds-size_6-of-12 slds-p-bottom_xx-small  slds-p-right_large">
                        <p class="slds-p-bottom_small"><strong>Online Payment:</strong></p>
                        
                    <div class="slds-grid slds-gutters">
                        <div class="slds-col slds-size_1-of-2 slds-p-bottom_xx-small">Payment Reference No:
                        </div>
                        <div class="slds-col slds-size_1-of-2 slds-p-bottom_xx-small"><lightning:input name="inputb" label="" variant = "label-hidden"  placeholder="Referral Code" value="" /></div>
                    </div>
                    <div class="slds-grid slds-gutters">
                        <div class="slds-col slds-size_1-of-2 slds-p-bottom_xx-small">Payment Mode:
                        </div>
                        <div class="slds-col slds-size_1-of-2 slds-p-bottom_xx-small"><lightning:input name="inputb" label="" variant = "label-hidden"  placeholder="Referral Code" value="" /></div>
                    </div>
                    <div class="slds-grid slds-gutters">
                        <div class="slds-col slds-size_1-of-2 slds-p-bottom_xx-small">Payment Amount:							</div>
                        <div class="slds-col slds-size_1-of-2 slds-p-bottom_xx-small"><lightning:input name="inputb" label="" variant = "label-hidden"  placeholder="Referral Code" value="" /></div>
                    </div>
                    <div class="slds-text-align_right slds-p-vertical_small">
                        <lightning-button label="Pay Now &amp; Confirm"  icon-name="action:update" variant="success" class="icon-large text-white "/>
                    </div>-->
            </div>
            <div class="slds-col slds-size_6-of-12 slds-p-bottom_small">
                <div class="slds-grid slds-gutters">
                    <div class="slds-col slds-size_1-of-3 slds-p-top_medium slds-p-bottom_xx-small">
                        <!--<abbr class="slds-required">*</abbr>-->Comments
                    </div>
                    <div class="slds-col slds-size_2-of-3 slds-p-bottom_xx-small">
                        <!-- <lightning:textarea name="payComment" aura:id="payComment" label=""
                            value={paymentComments} ></lightning:textarea> -->
                        <lightning-textarea name="payComment" value={paymentComments} label=""
                            variant="label-hidden"></lightning-textarea>
                    </div>
                </div>
            </div>
        </div>
        <div class="slds-grid slds-gutters slds-p-top_large /*slds-grid_align-spread*/">
            <div class="slds-size_1-of-1 slds-text-align_center slds-p-top_large">
                <lightning-button label="Save as Draft" onclick={saveEnrolments} icon-name="action:update"
                    variant="success" class="icon-large text-white "></lightning-button>
                <lightning-button label="Confirm" onclick={saveEnrolments} icon-name="action:update"
                    variant="success" class="icon-large text-white"
                    style="margin-left: var(--lwc-spacingXxSmall,0.25rem);"></lightning-button>
            </div>
        </div>
    </div>

</div>
</div>
<template if:true={showAddClassAndCourseModal}>
<c-add-course onclosemodal={handleClassAndCourseModal} ></c-add-course>
</template>
</template>